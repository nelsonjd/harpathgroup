{% extends "layout.html" %}

{% block title %}{{ location.city }}{% endblock %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='locations.css') }}" />
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='photoswipe.css') }}" />
  <script>
    !function (e) {
      if (!window.pintrk) {
        window.pintrk = function () {
          window.pintrk.queue.push(Array.prototype.slice.call(arguments))
        }; var
          n = window.pintrk; n.queue = [], n.version = "3.0"; var
            t = document.createElement("script"); t.async = !0, t.src = e; var
              r = document.getElementsByTagName("script")[0];
        r.parentNode.insertBefore(t, r)
      }
    }("https://s.pinimg.com/ct/core.js");
    pintrk('load', '2614209051804');
    pintrk('page');
  </script>
  <noscript>
    <img height="1" width="1" style="display:none;" alt=""
      src="https://ct.pinterest.com/v3/?event=init&tid=2614209051804&noscript=1" />
  </noscript>

{% endblock %}

{% block header %}
<nav class="header">
  <h1 class="logo"><span class="bye-small">The</span> Harpath <span class="bye-small">Group</span></spanGroup> <span class="logo-thin">Napoli</span></h1>
  <div class="menu" :class="{ open: isOpen }" @click="toggleOpen" v-scope>
    <div class="menu-item toggle"><span></span></div>
    <span class="menu-item">
      <a href="{{ url_for('home') }}" class="navbar-brand">Home</a>
    </span>
    <span class="menu-item">
      <a href="{{ url_for('locations') }}" class="navbar-item">Locations</a>
    </span>
  </span>
</nav>
{% endblock %}

{% block content %}
  <div class="wrapper">
    <aside class="doc-nav">
      <ul>
        <li><a href="#about" class="js-btn selected">About</a></li>
        <li><a href="#hotels" class="js-btn">Hotels</a></li>
      </ul>
    </aside>
    <article class="doc-content">
      <section class="js-section">
        <h2 id="about" class="section-title">About {{ location.city }}</h2>
        <p>{{ location.description }}</p>
      </section>
      <section class="js-section">
        <h2 id="hotels" class="section-title">Hotels</h2>
        <h3 class="hotel-title" id="h22">1. H22 Hotel</h3>
        <p>An inviting stay very close to Napoli Centrali, the city's main train station, the H22 Hotel is the product of proprietor Giulia Berardinelli's vision.  She is a third-generation hotelier who has followed in the career footsteps of her father and grandfather.  Each room in the building is decorated in a unique, special way. The name H22 signifies two hours taken out of the day, dedicated solely to oneself.
          The guests of H22 frequently speak to the sense of care and welcome cultivated by the staff of H22 Hotel.
        </p>
        <p>▶︎ Piazza Garibaldi, 101, Napoli, Italy <a href="https://maps.app.goo.gl/WtTC58U2pATyEoXr6" target="_blank">View Map</a></p>
        <p>▶︎ Always fully refundable</p>
        <div class="booknow-callout" v-scope>
          <a @click="onClick" class="button-secondary">Book Now!</a>
        </div>
        <div class="photo-section" id="test-gallery">
          <a
            class="photo-link"
            href="https://images.trvl-media.com/lodging/93000000/92690000/92689700/92689637/7206edc9.jpg?impolicy=resizecrop&rw=1200&ra=fit"
            data-pswp-width="1200"
            data-pswp-height="1800"
            target="_blank"
            rel="noreferrer"
            >
            <img width="150" height="225" src="https://images.trvl-media.com/lodging/93000000/92690000/92689700/92689637/7206edc9.jpg?impolicy=resizecrop&rw=150&ra=fit" alt="" />
          </a>
          <a
            class="photo-link"
            href="https://images.trvl-media.com/lodging/93000000/92690000/92689700/92689637/f73cbdfd.jpg?impolicy=resizecrop&rw=1200&ra=fit"
            data-pswp-width="1200"
            data-pswp-height="800"
            target="_blank"
            rel="noreferrer"
            >
            <img width="225" height="150" src="https://images.trvl-media.com/lodging/93000000/92690000/92689700/92689637/f73cbdfd.jpg?impolicy=resizecrop&rw=225&ra=fit" alt="" />
          </a>
          <a
            class="photo-link"
            href="https://images.trvl-media.com/lodging/93000000/92690000/92689700/92689637/030663f5.jpg?impolicy=resizecrop&rw=1200&ra=fit"
            data-pswp-width="1200"
            data-pswp-height="800"
            target="_blank"
            rel="noreferrer"
            >
            <img width="225" height="150" src="https://images.trvl-media.com/lodging/93000000/92690000/92689700/92689637/030663f5.jpg?impolicy=resizecrop&rw=225&ra=fit" alt="" />
          </a>
        </div>
      </section>
    </article>
  </div>

  <script type="module">
    import PhotoSwipeLightbox from '../static/photoswipe-lightbox.esm.js'
    import { createApp } from 'https://unpkg.com/petite-vue@0.2.2/dist/petite-vue.es.js'

    const lightbox = new PhotoSwipeLightbox({
      gallery: '#test-gallery',

      children: 'a',

      pswpModule: () => import('../static/photoswipe.esm.js')
    });
    
    lightbox.init();

    createApp({
      isOpen: false,

      toggleOpen() {
        this.isOpen = !this.isOpen
      },

      onClick() {
        pintrk('track', 'addtocart', {
          event_id: 'eventId0001'
        });

        window.location.href='https://expedia.com/affiliates/naples-hotels-h22-hotel.XEna95o'
      }
    }).mount()


  </script>
{% endblock %}